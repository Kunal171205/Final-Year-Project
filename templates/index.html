<!DOCTYPE html>
<html>
<head>
    <title>My First Website</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">

 
</head>

<body>
    <!-- Floating Top Row -->
<div class="toprow">
    <div class="site-name">IndusTech</div>

    <div class="floating-search">
        <button class="search-icon">üîç</button>
        <input id="search-box" type="text" placeholder="Search location..." />
    </div>
</div>

   

    <!-- This is where the map will appear -->
    <div id="map" style="background-color: #e5e5e5;"></div>
    
    <!-- Google Maps Script -->
    <script>
    // Define initMap function BEFORE loading the API script
    function initMap() {
      console.log("initMap called");
      try {
        // Check if Google Maps API is loaded
        if (typeof google === 'undefined' || typeof google.maps === 'undefined') {
          console.error("Google Maps API not loaded!");
          document.getElementById("map").innerHTML = '<div style="padding: 20px; text-align: center; color: red;">Google Maps API failed to load. Please check your API key.</div>';
          return;
        }

        // center map (example: Pune)
        const center = { lat: 18.5204, lng: 73.8567 };
        const mapElement = document.getElementById("map");
        
        if (!mapElement) {
          console.error("Map element not found!");
          return;
        }

        console.log("Creating map...");
        const map = new google.maps.Map(mapElement, {
          center,
          zoom: 13,
          mapTypeControl: false,
          streetViewControl: false,
        });

        // optional: a marker at the center
        new google.maps.Marker({
          position: center,
          map,
          title: "Center"
        });
        
        console.log("Map initialized successfully!");
      } catch (error) {
        console.error("Error initializing map:", error);
        document.getElementById("map").innerHTML = '<div style="padding: 20px; text-align: center; color: red;">Error: ' + error.message + '</div>';
      }
    }
    
    // Handle API loading errors
    window.gm_authFailure = function() {
      console.error("Google Maps API authentication failed. Please check your API key.");
      const mapElement = document.getElementById("map");
      if (mapElement) {
        mapElement.innerHTML = '<div style="padding: 20px; text-align: center; color: red; background: white; border-radius: 10px; margin: 20px;">Google Maps API authentication failed. Please check your API key in the HTML file.</div>';
      }
    };
    
    // Load Google Maps API script
    window.addEventListener('load', function() {
      const script = document.createElement('script');
      script.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyAY3_ORuFPOhyOhMs2oFLGq9XzOJmxMGY4&callback=initMap';
      script.async = true;
      script.defer = true;
      script.onerror = function() {
        console.error("Failed to load Google Maps script");
        document.getElementById("map").innerHTML = '<div style="padding: 20px; text-align: center; color: red;">Failed to load Google Maps script. Check your internet connection.</div>';
      };
      document.head.appendChild(script);
    });
    </script>

<div class="navbar-container">
  <div class="nav-item">
      <img src="{{ url_for('static', filename='images/home.png') }}" class="icon">
      <span class="nav-text">Home</span>
  </div>

  <div class="nav-item">
    <img src="{{ url_for('static', filename='images/job-portal.png') }}" class="icon">
    <span class="nav-text">Job Portal</span>
    </div>
  <div class="nav-item">
    <img src="{{ url_for('static', filename='images/buy.png') }}" class="icon">
    <span class="nav-text">B2B Trade</span>
  </div>

  <div class="nav-item">
      <img src="{{ url_for('static', filename='images/account.png') }}" class="icon">
      <span class="nav-text">Profile</span>
  </div>

  <div class="nav-item">
      <img src="{{ url_for('static', filename='images/setting.png') }}" class="icon">
      <span class="nav-text">Settings</span>
  </div>
</div>


</body>
</html>
